<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="icon"
      type="image/png"
      href="/img/logo_icono.png"
      sizes="48x48"
    />
    <title>SunGEXP – Marketplace de Emprendedores</title>

    <!-- Fuentes -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />

    <!-- CSS de bibliotecas -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      rel="stylesheet"
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <!-- Tu CSS -->
    <link href="/styles/page_seller.css" rel="stylesheet" />
  </head>
  <body>
    <div class="main-container">
      <div class="content-row">
        <aside class="sidebar">
          <div class="logo">
            <img src="/img/logo_style1.png" alt="SunGEXP" height="80" />
          </div>
          <nav>
            <a href="#" id="btn-perfil"
              ><i class="bi bi-person-lines-fill"></i> Mi perfil</a
            >
            <a href="#" id="btn-tienda"><i class="bi bi-shop"></i> Mi tienda</a>
            <a href="#"><i class="bi bi-tag"></i> Ventas</a>
            <a href="#"><i class="bi bi-credit-card"></i> Facturación</a>
            <a href="#"
              ><i class="bi bi-bookmark-check"></i> Resumen de ordenes</a
            >
            <a href="#"
              ><i class="bi bi-flag"></i> Reporte de ingresos mensual</a
            >
          </nav>
          <div class="logout">SALIR</div>
        </aside>
        <main class="main-content" id="main-content">
          <!-- From Uiverse.io by andrew-demchenk0 -->
          <!-- Sección MI PERFIL -->
          <form class="form" id="perfil-form" style="display: none; max-width: 600px; margin: 50px 0 50px 40px;">
            <div style="background: #fff; border: 2px solid #ffe600; border-radius: 18px; box-shadow: 0 4px 24px 0 #ffe60022; padding: 36px 32px 28px 32px; display: flex; flex-direction: column; gap: 18px;">
              <div class="title">
                <h2 style="color: #ffe600; font-size: 2em; font-weight: 800; margin-bottom: 8px; text-align: left;">Bienvenido/a, <span id="usuario"></span></h2>
                <p style="font-weight: bold; color: #222; margin-bottom: 12px;">Correo: <span id="correo"></span></p>
              </div>
              <div class="form-group">
                <label for="perfil-ruc">RUC de la empresa :</label>
                <input class="input" id="perfil-ruc" name="ruc" placeholder="RUC" type="text" style="background: #fffbe6; border: 2px solid #ffe600; border-radius: 8px; padding: 10px 14px; box-shadow: 0 1px 4px 0 #ffe60022; font-size: 1.08em;" />
              </div>
              <div class="form-group">
                <label for="perfil-tienda">Nombre de la tienda :</label>
                <input class="input" id="perfil-tienda" name="tienda" placeholder="Tienda" type="text" style="background: #fffbe6; border: 2px solid #ffe600; border-radius: 8px; padding: 10px 14px; box-shadow: 0 1px 4px 0 #ffe60022; font-size: 1.08em;" />
              </div>
              <div style="display: flex; justify-content: flex-end; gap: 10px; margin-top: 8px;">
                <button type="submit" class="button-confirm">Guardar</button>
                <button type="button" class="button-confirm" onclick="this.parentElement.parentElement.parentElement.style.display='none';">Cancelar</button>
              </div>
            </div>
          </form>

          <!-- Sección MI TIENDA: editable en línea -->
          <div id="tienda-section" style="display: none; max-width: 700px; margin: 50px 0 50px 40px;">
            <div style="background: #fff; border: 2px solid #ffe600; border-radius: 18px; box-shadow: 0 4px 24px 0 #ffe60022; padding: 36px 32px 28px 32px; display: flex; gap: 32px; align-items: flex-start;">
              <div style="flex-shrink:0; display: flex; flex-direction: column; align-items: center;">
                <img id="logo-tienda-preview" src="" alt="Logo de la tienda" style="width: 120px; height: 120px; object-fit: contain; border-radius: 18px; background: #f7f7f7; border: none; margin-bottom: 18px;" />
                <input id="logo-tienda-input" type="text" placeholder="URL del logo" style="width: 120px; font-size: 0.98em; background: #f7f7f7; border: none; box-shadow: none; margin-top: 4px;" />
              </div>
              <form id="form-tienda" style="flex:1; display: flex; flex-direction: column; gap: 14px;">
                <h2 style="color: #ffe600; font-size: 1.5em; font-weight: 800; margin-bottom: 8px; text-align: left;">Mi Tienda</h2>
                <input id="nombre-tienda-input" type="text" placeholder="Nombre de la tienda" style="font-weight: bold; color: #b1a003; background: #fffbe6; border: 2px solid #ffe600; border-radius: 8px; padding: 10px 14px; box-shadow: 0 1px 4px 0 #ffe60022; font-size: 1.08em;" />
                <input id="contacto-tienda-input" type="text" placeholder="Contacto" style="color: #888; font-size: 0.98em; background: #fffbe6; border: 2px solid #ffe600; border-radius: 8px; padding: 10px 14px; box-shadow: 0 1px 4px 0 #ffe60022;" />
                <textarea id="desc-tienda-input" placeholder="Descripción" style="color: #666; font-size: 1em; background: #fffbe6; border: 2px solid #ffe600; border-radius: 8px; padding: 10px 14px; box-shadow: 0 1px 4px 0 #ffe60022;"></textarea>
                <div style="display: flex; justify-content: flex-end; gap: 10px; margin-top: 8px;">
                  <button type="submit">Guardar</button>
                  <button type="button" id="cancelar-tienda-btn">Cancelar</button>
                </div>
              </form>
            </div>
          </div>

          <!-- Sección VENTAS: inicialmente oculta -->
          <div
            id="ventas-section"
            style="display: none; max-width: 1200px; margin: 20px"
            ;
          >
            <div class="header-row">
              <h2 class="main-title">Todos mis productos</h2>
              <button id="openFormBtn" class="add-btn">Agregar</button>
            </div>
            <div id="productCatalog" class="catalog"></div>
          </div>

          <!-- Modal para agregar producto -->
          <div id="modal" class="modal">
            <div class="modal-content square-modal">
              <span id="closeModal" class="close">&times;</span>
              <h1 class="modal-title">Agregar Producto</h1>
              <hr class="modal-divider" />
              <div class="form-preview-container">
                <form id="productForm">
                  <div class="form-col left">
                    <div class="form-group">
                      <label for="productImage">URL de la imagen</label>
                      <input
                        type="text"
                        id="productImage"
                        required
                        placeholder="https://..."
                      />
                    </div>
                    <img
                      id="imagePreview"
                      src=""
                      alt="Vista previa"
                      style="display: none"
                    />
                    <div class="form-group">
                      <label for="productBrand">Marca</label>
                      <input type="text" id="productBrand" required />
                    </div>
                    <div class="form-group">
                      <label for="productName">Nombre</label>
                      <input type="text" id="productName" required />
                    </div>
                    <div class="form-group">
                      <label for="productDescription">Descripción</label>
                      <textarea id="productDescription" required></textarea>
                    </div>
                  </div>
                  <div class="form-col right">
                    <div class="form-group">
                      <label for="productCategory">Categoría</label>
                      <input type="text" id="productCategory" required />
                    </div>
                    <div class="form-row">
                      <div class="form-group">
                        <label for="productPrice">Precio</label>
                        <input
                          type="number"
                          id="productPrice"
                          min="0"
                          step="0.01"
                          required
                        />
                      </div>
                      <div class="form-group">
                        <label for="productStock">Stock</label>
                        <input
                          type="number"
                          id="productStock"
                          min="0"
                          required
                        />
                      </div>
                    </div>
                    <div class="form-row">
                      <div class="form-group">
                        <label for="productDiscount">Descuento (%)</label>
                        <input
                          type="number"
                          id="productDiscount"
                          min="0"
                          max="100"
                          step="1"
                        />
                      </div>
                    </div>
                    <button type="submit">Agregar Producto</button>
                  </div>
                </form>
              </div>
            </div>
          </div>

          <!-- Sección FACTURACIÓN: Elegir método de pago -->
          <div style="display: flex; justify-content: flex-start">
            <div
              id="facturacion-section"
              style="
                display: none;
                max-width: 420px;
                margin: 50px 0 50px 40px;
                text-align: left;
                align-items: flex-start;
              "
            >
              <h2 style="color: #ffcc00; text-align: left; margin-bottom: 24px">
                Facturación
              </h2>
              <div
                style="
                  display: flex;
                  gap: 8px;
                  justify-content: flex-start;
                  margin-bottom: 18px;
                "
              >
                <button type="button" id="tab-banco" class="tab-btn active">
                  Banco
                </button>
                <button type="button" id="tab-yape" class="tab-btn">
                  Yape/Plin
                </button>
              </div>
              <form
                id="facturacion-form"
                style="
                  margin-top: 0;
                  width: 100%;
                  max-width: 350px;
                  text-align: left;
                  display: flex;
                  flex-direction: column;
                  align-items: flex-start;
                "
              >
                <div id="form-banco">
                  <div class="form-group">
                    <label>Nombre del vendedor</label>
                    <input
                      type="text"
                      id="facturacion-nombre-vendedor"
                      readonly
                      style="background: #f7f7f7; color: #222"
                    />
                  </div>
                  <div class="form-group">
                    <label>Nombre de la tienda</label>
                    <input
                      type="text"
                      id="facturacion-nombre-tienda"
                      readonly
                      style="background: #f7f7f7; color: #222"
                    />
                  </div>
                  <div class="form-group" style="position: relative">
                    <label for="facturacion-cuenta"
                      >Número de cuenta bancaria</label
                    >
                    <input
                      type="text"
                      id="facturacion-cuenta"
                      required
                      placeholder="Ej: 001234567890"
                      style="padding-right: 48px"
                    />
                    <span
                      id="banco-logo"
                      style="
                        position: absolute;
                        right: 12px;
                        top: 38px;
                        width: 32px;
                        height: 32px;
                        display: flex;
                        align-items: center;
                      "
                    ></span>
                  </div>
                  <div class="form-group">
                    <label for="facturacion-cci"
                      >Código interbancario (CCI)</label
                    >
                    <input
                      type="text"
                      id="facturacion-cci"
                      required
                      placeholder="Ej: 00212345678901234567"
                    />
                  </div>
                </div>
                <div id="form-yape" style="display: none">
                  <div class="form-group">
                    <label>Nombre del vendedor</label>
                    <input
                      type="text"
                      id="facturacion-nombre-vendedor-yape"
                      readonly
                      style="background: #f7f7f7; color: #222"
                    />
                  </div>
                  <div class="form-group">
                    <label>Nombre de la tienda</label>
                    <input
                      type="text"
                      id="facturacion-nombre-tienda-yape"
                      readonly
                      style="background: #f7f7f7; color: #222"
                    />
                  </div>
                  <div class="form-group" style="position: relative">
                    <label for="facturacion-telefono"
                      >Número de teléfono asociado</label
                    >
                    <input
                      type="text"
                      id="facturacion-telefono"
                      required
                      placeholder="Ej: 987654321"
                      style="padding-right: 48px"
                    />
                    <span
                      id="billetera-logo"
                      style="
                        position: absolute;
                        right: 12px;
                        top: 38px;
                        width: 32px;
                        height: 32px;
                        display: flex;
                        align-items: center;
                      "
                    ></span>
                  </div>
                  <div class="form-group">
                    <label for="billetera-select">Selecciona billetera</label>
                    <select id="billetera-select">
                      <option value="yape">Yape</option>
                      <option value="plin">Plin</option>
                    </select>
                  </div>
                </div>
                <button type="submit" style="margin-top: 10px">Guardar</button>
              </form>
            </div>
          </div>

          <!-- Sección RESUMEN DE ÓRDENES -->
          <div
            id="resumen-section"
            style="
              display: none;
              max-width: 1100px;
              margin: 50px 0 50px 40px;
              display: flex;
              gap: 40px;
              align-items: flex-start;
            "
          >
            <!-- Columna izquierda: Filtro y lista de órdenes -->
            <div style="flex: 1; min-width: 320px">
              <h2 style="color: #ffcc00; margin-bottom: 18px">
                Resumen de órdenes
              </h2>
              <div style="margin-bottom: 16px">
                <label for="resumen-fecha">Filtrar por fecha:</label>
                <input type="date" id="resumen-fecha" />
              </div>
              <table style="width: 100%; border-collapse: collapse">
                <thead>
                  <tr style="background: #fffbe6; color: #b1a003">
                    <th style="padding: 8px; text-align: left">Producto</th>
                    <th style="padding: 8px; text-align: left">Cantidad</th>
                    <th style="padding: 8px; text-align: left">Precio</th>
                    <th style="padding: 8px; text-align: left">Fecha</th>
                  </tr>
                </thead>
                <tbody id="resumen-lista"></tbody>
              </table>
              <div style="margin-top: 12px; font-weight: bold; color: #222">
                Total ventas del día: S/
                <span id="resumen-total-dia">0.00</span>
              </div>
            </div>
            <!-- Columna derecha: Objetivo, aporte y gráfico -->
            <div
              style="
                flex: 1;
                min-width: 320px;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                gap: 24px;
                height: 100%;
              "
            >
              <div style="width: 100%; text-align: center">
                <label for="resumen-objetivo"
                  >Objetivo de ventas diario (S/):</label
                >
                <input
                  type="number"
                  id="resumen-objetivo"
                  style="width: 120px; margin-left: 8px"
                  min="0"
                />
              </div>
              <div style="width: 100%; text-align: center">
                <span style="font-weight: bold"
                  >Aporte del día al objetivo diario:</span
                >
                <span id="resumen-aporte-dia">0%</span> (<span
                  id="resumen-aporte-monto"
                  >S/ 0.00</span
                >)
              </div>
              <div
                style="
                  width: 100%;
                  max-width: 320px;
                  display: flex;
                  justify-content: center;
                  align-items: center;
                  min-height: 240px;
                "
              >
                <canvas id="resumen-grafico" width="220" height="220"></canvas>
              </div>
              <div style="width: 100%; text-align: center">
                <label for="resumen-nombre-grafico">Nombre del gráfico:</label>
                <input
                  type="text"
                  id="resumen-nombre-grafico"
                  style="width: 220px; margin-left: 8px"
                  value="Avance diario de ingresos"
                />
              </div>
            </div>
          </div>

          <!-- Sección REPORTE DE INGRESOS MENSUAL -->
          <div
            id="reporte-mensual-section"
            style="
              display: none;
              max-width: 1100px;
              margin: 50px 0 50px 40px;
              padding-right: 40px;
            "
          >
            <h2 style="color: #ffcc00; margin-bottom: 18px">
              Reporte de ingresos mensual
            </h2>
            <div
              style="
                display: flex;
                gap: 24px;
                align-items: flex-end;
                flex-wrap: wrap;
                margin-bottom: 24px;
              "
            >
              <div>
                <label style="font-weight: bold" for="select-periodo"
                  >Periodo principal:</label
                ><br />
                <select id="select-periodo" style="min-width: 120px">
                  <option value="7">Últimos 7 días</option>
                  <option value="15">Últimos 15 días</option>
                  <option value="30">Últimos 30 días</option>
                </select>
              </div>
              <div>
                <label style="font-weight: bold" for="select-mes">Mes:</label
                ><br />
                <select id="select-mes" style="min-width: 80px">
                  <option value="01">01</option>
                  <option value="02">02</option>
                  <option value="03">03</option>
                  <option value="04">04</option>
                  <option value="05">05</option>
                  <option value="06">06</option>
                  <option value="07">07</option>
                  <option value="08">08</option>
                  <option value="09">09</option>
                  <option value="10">10</option>
                  <option value="11">11</option>
                  <option value="12">12</option>
                </select>
              </div>
              <div>
                <label style="font-weight: bold" for="select-anio">Año:</label
                ><br />
                <select id="select-anio" style="min-width: 80px">
                  <option value="2023">2023</option>
                  <option value="2024">2024</option>
                  <option value="2025">2025</option>
                </select>
              </div>
              <div>
                <label style="font-weight: bold" for="select-comparar"
                  >Comparar con:</label
                ><br />
                <select id="select-comparar" style="min-width: 140px">
                  <option value="anterior">Período anterior</option>
                  <option value="mismo_mes_anio_anterior">
                    Mismo mes año anterior
                  </option>
                </select>
              </div>
            </div>
            <div id="reporte-metricas" class="metricas-grid">
              <div class="metrica-card">
                <div class="metrica-label">
                  Ventas brutas
                  <span
                    class="metrica-help"
                    title="Suma total de ingresos en el periodo"
                    >?</span
                  >
                </div>
                <div class="metrica-valor" id="metrica-ventas-brutas">
                  S/ 0.00
                </div>
                <div class="metrica-porcentaje">—%</div>
              </div>
              <div class="metrica-card">
                <div class="metrica-label">
                  Unidades vendidas
                  <span
                    class="metrica-help"
                    title="Cantidad total de productos vendidos"
                    >?</span
                  >
                </div>
                <div class="metrica-valor" id="metrica-unidades">0</div>
                <div class="metrica-porcentaje">—%</div>
              </div>
              <div class="metrica-card">
                <div class="metrica-label">
                  Precio promedio por unidad
                  <span
                    class="metrica-help"
                    title="Ventas brutas dividido entre unidades vendidas"
                    >?</span
                  >
                </div>
                <div class="metrica-valor" id="metrica-prom-unidad">
                  S/ 0.00
                </div>
                <div class="metrica-porcentaje">—%</div>
              </div>
              <div class="metrica-card">
                <div class="metrica-label">
                  Cantidad de ventas
                  <span class="metrica-help" title="Número de ventas realizadas"
                    >?</span
                  >
                </div>
                <div class="metrica-valor" id="metrica-cant-ventas">0</div>
                <div class="metrica-porcentaje">—%</div>
              </div>
              <div class="metrica-card">
                <div class="metrica-label">
                  Precio promedio por venta
                  <span
                    class="metrica-help"
                    title="Ventas brutas dividido entre cantidad de ventas"
                    >?</span
                  >
                </div>
                <div class="metrica-valor" id="metrica-prom-venta">S/ 0.00</div>
                <div class="metrica-porcentaje">—%</div>
              </div>
            </div>
          </div>
        </main>
      </div>
    </div>

    <!-- Footer -->
    <div class="footer-basic">
      <footer>
        <div class="social">
          <a href="#"><i class="bi bi-instagram"></i></a
          ><a href="#"><i class="bi bi-facebook"></i></a
          ><a href="#"><i class="bi bi-envelope"></i></a>
          <ul class="list-inline">
            <li class="list-inline-item"><a href="#">Inicio</a></li>

            <li class="list-inline-item">
              <a href="#">Política de privacidad</a>
            </li>
            <li class="list-inline-item">
              <a href="#">Política de cookies</a>
            </li>
            <li class="list-inline-item">
              <a href="#">Términos y condiciones</a>
            </li>
          </ul>
          <p style="color: black">
            ¿Tienes dudas? Escríbenos a
            <a
              style="text-decoration: none; color: black"
              href="mailto:soporte@sungexp.com"
              >soporte@sungexp.com</a
            >
          </p>
          <p class="copyright">
            © 2025 SunGEXP. Todos los derechos reservados.
          </p>
        </div>
      </footer>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/js/page_seller.js" defer></script>
  </body>
</html>
